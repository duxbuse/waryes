/* ============================================================
   STELLAR SIEGE — GRIMDARK GOTHIC THEME
   Battle Barge Bridge + Gothic Flourishes + Warp Glitch
   ============================================================ */

/* Fonts are self-hosted via @fontsource packages (imported in main.ts) */

/* --- ROOT VARIABLES --- */
:root {
  /* Gunmetal & Steel */
  --steel-dark: #1a1a20;
  --steel-mid: #2a2a30;
  --steel-light: #3a3a42;
  --steel-highlight: #4a4a55;
  --steel-bright: #5a5a68;
  /* Electric Blue */
  --blue-primary: #00aaff;
  --blue-dark: #0088dd;
  --blue-glow: #00ccff;
  --blue-dim: #005588;
  /* Amber Warning */
  --amber: #ff8800;
  --amber-light: #ffaa00;
  --amber-glow: #ffcc44;
  --amber-dim: #885500;
  /* Danger Red */
  --red: #ff2200;
  --red-glow: #ff4444;
  --red-dim: #881100;
  /* Hologram Cyan */
  --cyan: #00ffcc;
  --cyan-dim: #008866;
  /* Gothic Gold */
  --gold: #c4a44a;
  --gold-light: #d4b85a;
  --gold-bright: #e8d080;
  --gold-dim: #8a7030;
  /* Warp Corruption */
  --warp-purple: #8800ff;
  --warp-pink: #ff00aa;
  --warp-green: #00ff88;
  /* Fonts */
  --font-heading: 'Cinzel', serif;
  --font-body: 'Crimson Pro', serif;
  --font-mono: 'Share Tech Mono', monospace;
}

/* --- BASE STYLING --- */
html, body {
  font-family: var(--font-body);
  font-size: 15px;
  line-height: 1.5;
  color: #c0c0cc;
}

/* Scrollbar Styling */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: var(--steel-dark); }
::-webkit-scrollbar-thumb { background: var(--steel-highlight); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--blue-dim); }

/* ============================================================
   GLOBAL OVERLAY LAYERS
   ============================================================ */

/* CRT Vignette */
.crt-vignette {
  position: fixed; inset: 0; z-index: 9999;
  pointer-events: none;
  background: radial-gradient(ellipse at center, transparent 55%, rgba(0,0,0,0.5) 100%);
}

/* Scan Lines */
.scan-lines {
  position: fixed; inset: 0; z-index: 9998;
  pointer-events: none;
  background: repeating-linear-gradient(
    0deg,
    transparent 0px,
    transparent 2px,
    rgba(0, 170, 255, 0.012) 2px,
    rgba(0, 170, 255, 0.012) 4px
  );
  animation: scanScroll 8s linear infinite;
}

/* HUD Crosshair Overlay */
.hud-crosshair {
  position: fixed; inset: 0; z-index: 9997;
  pointer-events: none;
  overflow: hidden;
}
.hud-crosshair .line {
  position: absolute;
  background: rgba(0, 170, 255, 0.04);
}
.hud-crosshair .h1 { width: 100%; height: 1px; top: 50%; }
.hud-crosshair .v1 { height: 100%; width: 1px; left: 50%; }
.hud-crosshair .h2 { width: 100%; height: 1px; top: 33%; background: rgba(0, 170, 255, 0.02); }
.hud-crosshair .h3 { width: 100%; height: 1px; top: 67%; background: rgba(0, 170, 255, 0.02); }
.hud-crosshair .v2 { height: 100%; width: 1px; left: 33%; background: rgba(0, 170, 255, 0.02); }
.hud-crosshair .v3 { height: 100%; width: 1px; left: 67%; background: rgba(0, 170, 255, 0.02); }

/* Warp Corruption Flash */
.warp-flash {
  position: fixed; inset: 0; z-index: 9996;
  pointer-events: none;
  background: radial-gradient(ellipse at center, rgba(136, 0, 255, 0.06), rgba(255, 0, 170, 0.03), transparent);
  opacity: 0;
  animation: warpFlash 18s ease-in-out infinite;
}

/* Reality Crack Lines */
.reality-cracks {
  position: fixed; inset: 0; z-index: 9995;
  pointer-events: none;
}
.reality-crack {
  position: absolute;
  height: 1px;
  opacity: 0.12;
}
.reality-crack:nth-child(1) {
  width: 55%; top: 28%; left: 8%;
  transform: rotate(-12deg);
  background: linear-gradient(90deg, transparent, var(--warp-purple), var(--warp-green), transparent);
  animation: crackPulse 6s ease-in-out infinite;
}
.reality-crack:nth-child(2) {
  width: 40%; top: 62%; left: 35%;
  transform: rotate(10deg);
  background: linear-gradient(90deg, transparent, var(--warp-green), var(--warp-purple), transparent);
  animation: crackPulse 8s ease-in-out infinite 2s;
}
.reality-crack:nth-child(3) {
  width: 30%; top: 48%; left: 55%;
  transform: rotate(-25deg);
  background: linear-gradient(90deg, transparent, var(--warp-pink), var(--warp-green), transparent);
  animation: crackPulse 7s ease-in-out infinite 4s;
}

/* Eldritch Floating Symbols */
.eldritch-symbol {
  position: fixed;
  font-size: 52px;
  color: var(--warp-purple);
  opacity: 0.04;
  pointer-events: none;
  z-index: 9994;
  font-family: serif;
}
.eldritch-symbol.s1 {
  top: 18%;
  animation: eldritchDrift1 38s linear infinite;
}
.eldritch-symbol.s2 {
  top: 72%;
  animation: eldritchDrift2 45s linear infinite;
}

/* Hide overlays during battle */
body.battle-active .crt-vignette,
body.battle-active .scan-lines,
body.battle-active .hud-crosshair,
body.battle-active .warp-flash,
body.battle-active .reality-cracks,
body.battle-active .eldritch-symbol {
  display: none;
}

/* Viewport Sector Coordinates */
.viewport-coords {
  position: fixed;
  z-index: 10;
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--blue-dim);
  letter-spacing: 2px;
  pointer-events: none;
  text-transform: uppercase;
  opacity: 0.6;
  line-height: 1.6;
}
.coord-tl { top: 10px; left: 14px; }
.coord-tr { top: 10px; right: 14px; text-align: right; }
.coord-bl { bottom: 10px; left: 14px; }
.coord-br { bottom: 10px; right: 14px; text-align: right; }
body.battle-active .viewport-coords { display: none; }

/* Starfield & Particle Canvases */
#starfield-canvas {
  position: fixed; inset: 0; z-index: 0;
}
#particle-canvas {
  position: fixed; inset: 0; z-index: 4;
  pointer-events: none;
}

/* ============================================================
   SHARED KEYFRAMES
   ============================================================ */
@keyframes scanScroll {
  from { background-position: 0 0; }
  to { background-position: 0 200px; }
}
@keyframes warpFlash {
  0%, 90%, 100% { opacity: 0; }
  93% { opacity: 1; }
  95% { opacity: 0; }
  96% { opacity: 0.6; }
  98% { opacity: 0; }
}
@keyframes crackPulse {
  0%, 100% { opacity: 0.08; }
  50% { opacity: 0.22; }
}
@keyframes eldritchDrift1 {
  0%   { left: -60px; transform: rotate(0deg); opacity: 0; }
  5%   { opacity: 0.05; }
  50%  { opacity: 0.04; }
  95%  { opacity: 0.05; }
  100% { left: calc(100vw + 60px); transform: rotate(180deg); opacity: 0; }
}
@keyframes eldritchDrift2 {
  0%   { left: calc(100vw + 60px); transform: rotate(0deg); opacity: 0; }
  5%   { opacity: 0.04; }
  50%  { opacity: 0.06; }
  95%  { opacity: 0.04; }
  100% { left: -60px; transform: rotate(-180deg); opacity: 0; }
}
@keyframes sectionBootUp {
  0%   { opacity: 0; transform: translateY(30px); filter: brightness(2.5) blur(6px); }
  30%  { filter: brightness(1.5) blur(2px); }
  100% { opacity: 1; transform: translateY(0); filter: brightness(1) blur(0); }
}
@keyframes aquilaPulse {
  0%, 100% { filter: drop-shadow(0 0 6px rgba(196,164,74,0.3)); }
  50% { filter: drop-shadow(0 0 14px rgba(196,164,74,0.5)); }
}
@keyframes cardBoot {
  0%   { opacity: 0; transform: translateY(18px); filter: brightness(2.5); }
  50%  { filter: brightness(1.3); }
  100% { opacity: 1; transform: translateY(0); filter: brightness(1); }
}
@keyframes cardScan {
  from { top: -50%; }
  to   { top: 150%; }
}
@keyframes alertStripScroll {
  from { background-position: 0 0; }
  to { background-position: -40px 0; }
}
@keyframes warningPulse {
  0%, 100% { opacity: 0.5; box-shadow: 0 0 4px var(--amber); }
  50% { opacity: 1; box-shadow: 0 0 10px var(--amber), 0 0 22px rgba(255, 136, 0, 0.4); }
}
@keyframes barShine {
  from { transform: translateX(-100%); }
  to   { transform: translateX(250%); }
}
@keyframes energyFlow {
  from { transform: translateX(-100%); }
  to   { transform: translateX(250%); }
}
@keyframes borderFlicker {
  0%, 88%, 100% { border-color: var(--steel-highlight); }
  91% { border-color: rgba(136, 0, 255, 0.25); }
  93% { border-color: var(--steel-highlight); }
  95% { border-color: rgba(136, 0, 255, 0.15); }
  97% { border-color: var(--steel-highlight); }
}
@keyframes holoFlicker {
  0%, 94%, 100% { opacity: 1; }
  95% { opacity: 0.7; }
  96% { opacity: 1; }
  97% { opacity: 0.85; }
  98% { opacity: 1; }
}
@keyframes corruptedBtnGlitch {
  0%, 88%, 100% { filter: none; }
  90% { filter: hue-rotate(50deg) brightness(1.15); }
  92% { filter: hue-rotate(-40deg); }
  94% { filter: hue-rotate(20deg); }
  96% { filter: none; }
}
@keyframes corruptedStripe {
  0%, 100% { opacity: 0.2; width: 2px; }
  50% { opacity: 0.7; width: 3px; }
}
@keyframes warpFlourish {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; text-shadow: 0 0 10px rgba(150, 50, 255, 0.7); }
}
@keyframes statusBlink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.25; }
}

/* Title Glitch Keyframes */
@keyframes rgbBefore {
  0%, 70%, 100% { transform: translate(0); opacity: 0; }
  72% { transform: translate(-8px, -3px) skewX(-6deg); opacity: 0.8; }
  74% { transform: translate(10px, 2px) skewX(4deg); opacity: 0.9; }
  76% { transform: translate(-12px, -1px) skewX(-8deg); opacity: 0.7; }
  78% { transform: translate(6px, 3px) skewX(3deg); opacity: 0.6; }
  80% { transform: translate(-3px, 0) skewX(-1deg); opacity: 0.4; }
  82% { transform: translate(0); opacity: 0; }
  90% { transform: translate(0); opacity: 0; }
  91% { transform: translate(-6px, -2px) skewX(-4deg); opacity: 0.7; }
  93% { transform: translate(8px, 1px) skewX(5deg); opacity: 0.5; }
  95% { transform: translate(0); opacity: 0; }
}
@keyframes rgbAfter {
  0%, 71%, 100% { transform: translate(0); opacity: 0; }
  73% { transform: translate(9px, 3px) skewX(7deg); opacity: 0.8; }
  75% { transform: translate(-11px, -2px) skewX(-5deg); opacity: 0.9; }
  77% { transform: translate(13px, 1px) skewX(9deg); opacity: 0.7; }
  79% { transform: translate(-5px, -3px) skewX(-3deg); opacity: 0.6; }
  81% { transform: translate(2px, 0) skewX(1deg); opacity: 0.4; }
  83% { transform: translate(0); opacity: 0; }
  91% { transform: translate(0); opacity: 0; }
  92% { transform: translate(7px, 2px) skewX(5deg); opacity: 0.7; }
  94% { transform: translate(-9px, -1px) skewX(-4deg); opacity: 0.5; }
  96% { transform: translate(0); opacity: 0; }
}
@keyframes titleGlitchBurst {
  0%, 68%, 100% { filter: none; transform: none; }
  70% { filter: hue-rotate(40deg) brightness(1.4); transform: skewX(-4deg) translateX(6px); }
  71% { filter: hue-rotate(-60deg) brightness(1.6) saturate(1.5); transform: skewX(5deg) translateX(-8px) scaleY(1.02); }
  72% { filter: invert(0.1) hue-rotate(30deg); transform: skewX(-7deg) translateX(10px) scaleX(1.01); }
  73% { filter: hue-rotate(-30deg) brightness(1.3); transform: skewX(3deg) translateX(-5px); }
  74% { filter: brightness(0.6); transform: translateY(2px); }
  75% { filter: hue-rotate(20deg) brightness(1.5); transform: skewX(-2deg) translateX(3px); }
  76% { filter: none; transform: translateX(-1px); }
  78% { filter: none; transform: none; }
  88% { filter: none; transform: none; }
  89% { filter: hue-rotate(50deg) brightness(1.3); transform: skewX(-3deg) translateX(4px); }
  90% { filter: hue-rotate(-40deg); transform: skewX(4deg) translateX(-6px); }
  91% { filter: brightness(0.7); transform: scaleY(0.98) translateY(1px); }
  92% { filter: none; transform: none; }
}
@keyframes scanFlicker {
  0%, 68%, 83%, 100% { opacity: 0; }
  70% { opacity: 0.8; }
  72% { opacity: 0.3; }
  74% { opacity: 1; }
  76% { opacity: 0.5; }
  78% { opacity: 0; }
  89% { opacity: 0; }
  90% { opacity: 0.6; }
  91% { opacity: 0.2; }
  92% { opacity: 0; }
}
@keyframes reticleBreathe {
  0%, 100% { opacity: 0.4; transform: translate(0, 0); }
  50% { opacity: 0.85; transform: translate(calc(var(--dx) * 5px), calc(var(--dy) * 5px)); }
}
@keyframes dataGlitch {
  0%, 93%, 100% { transform: none; }
  94% { transform: translateX(1px); }
  95% { transform: translateX(-1px); filter: hue-rotate(30deg); }
  96% { transform: none; filter: none; }
}

/* ============================================================
   TITLE SYSTEM
   ============================================================ */

/* Aquila Crest */
.aquila-crest {
  position: relative;
  width: 300px;
  height: 80px;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 60px;
  color: var(--gold);
  text-shadow: 0 0 20px var(--gold-dim), 0 0 40px rgba(196,164,74,0.15), 0 2px 8px rgba(0,0,0,0.8);
  letter-spacing: 20px;
  filter: drop-shadow(0 0 6px rgba(196,164,74,0.3));
  animation: aquilaPulse 4s ease-in-out infinite;
}
.aquila-crest::before {
  content: '';
  position: absolute;
  top: 50%;
  left: -40px; right: -40px;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold-dim), var(--gold), var(--gold-dim), transparent);
  opacity: 0.3;
}
.aquila-crest::after {
  content: '';
  position: absolute;
  inset: -10px;
  border: 1px solid transparent;
  border-image: linear-gradient(90deg, transparent 10%, var(--gold-dim) 30%, var(--gold) 50%, var(--gold-dim) 70%, transparent 90%) 1;
  opacity: 0.2;
}

/* Title Reticle Brackets */
.title-reticle-wrap {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 28px 50px 18px;
}
.reticle-bracket {
  position: absolute;
  width: 28px; height: 28px;
  border-color: var(--blue-primary);
  border-style: solid;
  border-width: 0;
  opacity: 0.5;
  animation: reticleBreathe 3.5s ease-in-out infinite;
}
.reticle-tl { top: 0; left: 0; border-top-width: 2px; border-left-width: 2px; --dx: -1; --dy: -1; }
.reticle-tr { top: 0; right: 0; border-top-width: 2px; border-right-width: 2px; --dx: 1; --dy: -1; }
.reticle-bl { bottom: 0; left: 0; border-bottom-width: 2px; border-left-width: 2px; --dx: -1; --dy: 1; }
.reticle-br { bottom: 0; right: 0; border-bottom-width: 2px; border-right-width: 2px; --dx: 1; --dy: 1; }

/* Game Title — RGB Split Glitch */
.game-title {
  font-family: 'Playfair Display SC', 'Cinzel', serif;
  font-size: 58px;
  font-weight: 900;
  color: var(--gold);
  text-transform: uppercase;
  letter-spacing: 18px;
  text-align: center;
  position: relative;
  text-shadow:
    0 0 30px rgba(196, 164, 74, 0.5),
    0 0 60px rgba(196, 164, 74, 0.2),
    0 0 100px rgba(160, 130, 50, 0.15),
    0 2px 0 rgba(120, 100, 40, 0.8),
    0 4px 8px rgba(0, 0, 0, 0.8);
  animation: titleGlitchBurst 3.5s ease-in-out infinite;
}
.game-title::before,
.game-title::after {
  content: attr(data-text);
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  overflow: hidden;
  mix-blend-mode: screen;
}
.game-title::before {
  color: #cc2020;
  z-index: -1;
  animation: rgbBefore 3.5s ease-in-out infinite;
  clip-path: polygon(0 0, 100% 0, 100% 33%, 60% 33%, 60% 50%, 100% 50%, 100% 66%, 0 66%);
  text-shadow: 0 0 20px rgba(180, 30, 30, 0.6);
}
.game-title::after {
  color: #ffe0a0;
  z-index: -1;
  animation: rgbAfter 3.5s ease-in-out infinite;
  clip-path: polygon(0 34%, 40% 34%, 40% 51%, 0 51%, 0 67%, 100% 67%, 100% 100%, 0 100%);
  text-shadow: 0 0 20px rgba(255, 200, 120, 0.5);
}

/* Scan-line overlay on title */
.title-scanlines {
  position: absolute;
  top: 0; left: -20px; right: -20px; bottom: 0;
  pointer-events: none;
  background: repeating-linear-gradient(
    0deg,
    transparent 0px,
    transparent 2px,
    rgba(196, 164, 74, 0.04) 2px,
    rgba(196, 164, 74, 0.04) 4px
  );
  opacity: 0;
  animation: scanFlicker 3.5s ease-in-out infinite;
  z-index: 2;
  mix-blend-mode: screen;
}

/* Subtitle */
.game-subtitle {
  font-family: var(--font-heading);
  font-size: 15px;
  color: #a0b8cc;
  letter-spacing: 11px;
  text-transform: uppercase;
  margin-top: 2px;
  text-shadow: 0 0 12px rgba(120, 160, 200, 0.3);
  position: relative;
  padding: 0 40px;
}
.game-subtitle::before {
  content: '\2014 \269C \2014';
  position: absolute;
  left: -80px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 10px;
  opacity: 0.5;
  letter-spacing: 4px;
  text-shadow: 0 0 8px rgba(120, 160, 200, 0.3);
}
.game-subtitle::after {
  content: '\2014 \269C \2014';
  position: absolute;
  right: -80px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 10px;
  opacity: 0.5;
  letter-spacing: 4px;
  text-shadow: 0 0 8px rgba(120, 160, 200, 0.3);
}

/* ============================================================
   GOTHIC DIVIDERS
   ============================================================ */
.gothic-divider {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  max-width: 500px;
  margin: 4px 0;
}
.gothic-divider .line {
  flex: 1;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--gold-dim), var(--gold), var(--gold-dim), transparent);
  position: relative;
}
.gothic-divider .line::before {
  content: '';
  position: absolute;
  top: -2px; left: 10%; right: 10%;
  height: 6px;
  background: linear-gradient(90deg, transparent, rgba(196, 164, 74, 0.12), transparent);
}
.gothic-divider .line::after {
  content: '';
  position: absolute;
  top: 4px; left: 30%; right: 30%;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold-dim), transparent);
  opacity: 0.3;
}
.gothic-divider .sym {
  color: var(--gold);
  font-size: 16px;
  text-shadow: 0 0 8px var(--gold-dim), 0 0 20px rgba(196,164,74,0.15);
  opacity: 0.8;
  animation: aquilaPulse 4s ease-in-out infinite;
}

/* Organ Pipes */
.organ-pipes {
  display: flex;
  justify-content: center;
  align-items: flex-end;
  gap: 4px;
  padding: 12px 0;
  position: relative;
}
.organ-pipes::before, .organ-pipes::after {
  content: '\2726';
  font-size: 8px;
  color: var(--gold);
  opacity: 0.35;
  align-self: center;
  margin: 0 8px;
}
.organ-pipe {
  width: 6px;
  background: linear-gradient(180deg, var(--gold), var(--gold-dim) 60%, #2a2a30);
  border-radius: 3px 3px 0 0;
  box-shadow: inset 1px 0 0 rgba(255,255,255,0.1), inset -1px 0 0 rgba(0,0,0,0.3);
  opacity: 0.35;
}
.organ-pipe:nth-child(2) { height: 18px; }
.organ-pipe:nth-child(3) { height: 28px; }
.organ-pipe:nth-child(4) { height: 36px; }
.organ-pipe:nth-child(5) { height: 42px; }
.organ-pipe:nth-child(6) { height: 36px; }
.organ-pipe:nth-child(7) { height: 28px; }
.organ-pipe:nth-child(8) { height: 18px; }

/* Filigree Rule */
.filigree-rule {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 6px 0;
  opacity: 0.35;
}
.filigree-rule .fili-line {
  flex: 1;
  max-width: 120px;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
}
.filigree-rule .fili-diamond {
  width: 6px; height: 6px;
  background: var(--gold);
  transform: rotate(45deg);
}
.filigree-rule .fili-cross {
  font-family: 'Cinzel', serif;
  font-size: 10px;
  color: var(--gold);
}

/* ============================================================
   SHARED PANEL SYSTEM
   ============================================================ */
.panel {
  background: linear-gradient(175deg, var(--steel-mid) 0%, var(--steel-dark) 100%);
  border: 1px solid var(--steel-highlight);
  position: relative;
}
/* Outer ornate gold frame */
.panel::before {
  content: '';
  position: absolute;
  inset: -4px;
  border: 1px solid var(--gold-dim);
  pointer-events: none;
  opacity: 0.3;
}
/* Inner subtle glow line */
.panel::after {
  content: '';
  position: absolute;
  inset: 3px;
  border: 1px solid rgba(0, 170, 255, 0.06);
  pointer-events: none;
}

/* Panel Header */
.panel-header {
  background: linear-gradient(90deg, var(--steel-dark), var(--steel-mid), var(--steel-dark));
  padding: 10px 18px;
  display: flex;
  align-items: center;
  gap: 12px;
  border-bottom: 1px solid var(--steel-highlight);
  position: relative;
}
.panel-header::before {
  content: '';
  position: absolute;
  bottom: -1px; left: 0; right: 0;
  height: 2px;
  background: repeating-linear-gradient(
    90deg,
    var(--amber) 0px, var(--amber) 10px,
    var(--steel-dark) 10px, var(--steel-dark) 20px
  );
  background-size: 200% 100%;
  animation: alertStripScroll 1.8s linear infinite;
}
.panel-header .title {
  font-family: var(--font-heading);
  font-size: 12px;
  font-weight: 700;
  color: var(--blue-primary);
  letter-spacing: 4px;
  text-transform: uppercase;
  flex: 1;
  position: relative;
  padding: 0 28px;
}
.panel-header .title::before {
  content: '\2726 ';
  color: var(--gold);
  opacity: 0.5;
  font-size: 8px;
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  text-shadow: 0 0 4px var(--gold-dim);
}
.panel-header .title::after {
  content: ' \2726';
  color: var(--gold);
  opacity: 0.5;
  font-size: 8px;
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  text-shadow: 0 0 4px var(--gold-dim);
}
.panel-body { padding: 18px; }

/* Warning Light */
.warning-light {
  width: 8px; height: 8px;
  border-radius: 50%;
  background: var(--amber);
  flex-shrink: 0;
  box-shadow: 0 0 6px var(--amber), 0 0 14px rgba(255, 136, 0, 0.25);
  animation: warningPulse 1.5s ease-in-out infinite;
}

/* Panel Watermark */
.panel-watermark {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 120px;
  color: var(--gold);
  opacity: 0.02;
  pointer-events: none;
  font-family: serif;
  letter-spacing: 10px;
}

/* Corner Flourishes */
.corner-flourish {
  position: absolute;
  width: 32px; height: 32px;
  pointer-events: none;
}
.corner-flourish::before, .corner-flourish::after {
  content: '';
  position: absolute;
  background: var(--gold);
}
.corner-flourish.tl { top: 4px; left: 4px; }
.corner-flourish.tl::before { width: 24px; height: 2px; top: 0; left: 0; box-shadow: 0 3px 0 rgba(196,164,74,0.15); }
.corner-flourish.tl::after  { width: 2px; height: 24px; top: 0; left: 0; box-shadow: 3px 0 0 rgba(196,164,74,0.15); }
.corner-flourish.tr { top: 4px; right: 4px; }
.corner-flourish.tr::before { width: 24px; height: 2px; top: 0; right: 0; box-shadow: 0 3px 0 rgba(196,164,74,0.15); }
.corner-flourish.tr::after  { width: 2px; height: 24px; top: 0; right: 0; box-shadow: -3px 0 0 rgba(196,164,74,0.15); }
.corner-flourish.bl { bottom: 4px; left: 4px; }
.corner-flourish.bl::before { width: 24px; height: 2px; bottom: 0; left: 0; box-shadow: 0 -3px 0 rgba(196,164,74,0.15); }
.corner-flourish.bl::after  { width: 2px; height: 24px; bottom: 0; left: 0; box-shadow: 3px 0 0 rgba(196,164,74,0.15); }
.corner-flourish.br { bottom: 4px; right: 4px; }
.corner-flourish.br::before { width: 24px; height: 2px; bottom: 0; right: 0; box-shadow: 0 -3px 0 rgba(196,164,74,0.15); }
.corner-flourish.br::after  { width: 2px; height: 24px; bottom: 0; right: 0; box-shadow: -3px 0 0 rgba(196,164,74,0.15); }
.corner-flourish .diamond {
  position: absolute;
  width: 5px; height: 5px;
  background: var(--gold);
  transform: rotate(45deg);
  opacity: 0.6;
}
.corner-flourish.tl .diamond { top: 0; left: 0; }
.corner-flourish.tr .diamond { top: 0; right: 0; }
.corner-flourish.bl .diamond { bottom: 0; left: 0; }
.corner-flourish.br .diamond { bottom: 0; right: 0; }

/* Warp Border Flicker */
.warp-flicker-border { animation: borderFlicker 7s ease-in-out infinite; }

/* Holographic Flicker */
.holo-flicker { animation: holoFlicker 4.5s step-end infinite; }

/* ============================================================
   MENU BUTTONS
   ============================================================ */
.menu-btn {
  font-family: var(--font-heading);
  font-size: 14px;
  font-weight: 700;
  letter-spacing: 4px;
  text-transform: uppercase;
  border: none;
  cursor: pointer;
  padding: 13px 24px;
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
  clip-path: polygon(8px 0, 100% 0, calc(100% - 8px) 100%, 0 100%);
  background: linear-gradient(135deg, var(--steel-mid), var(--steel-light));
  color: var(--blue-primary);
  text-shadow: 0 0 8px rgba(0, 170, 255, 0.2);
}
.menu-btn::before {
  content: '';
  position: absolute; inset: 0;
  background: repeating-linear-gradient(
    -60deg,
    transparent 0px, transparent 5px,
    rgba(0, 170, 255, 0.04) 5px, rgba(0, 170, 255, 0.04) 10px
  );
  transform: translateX(-110%);
  transition: transform 0.5s ease;
}
.menu-btn:hover::before { transform: translateX(0); }
.menu-btn::after {
  content: '';
  position: absolute;
  top: 15%; left: 0; width: 2px; height: 70%;
  background: var(--blue-dim);
  transition: all 0.3s ease;
  box-shadow: 0 0 4px rgba(0, 170, 255, 0.2);
}
.menu-btn:hover {
  background: linear-gradient(135deg, var(--steel-light), var(--steel-highlight));
  color: var(--blue-glow);
  text-shadow: 0 0 16px rgba(0, 204, 255, 0.5);
  transform: scale(1.03);
  box-shadow: 0 0 20px rgba(0, 170, 255, 0.12), inset 0 0 15px rgba(0, 170, 255, 0.04);
}
.menu-btn:hover::after {
  background: var(--blue-primary);
  box-shadow: 0 0 10px rgba(0, 170, 255, 0.5);
}
.menu-btn:active { transform: scale(0.97); }

/* Primary (SKIRMISH) */
.menu-btn.primary {
  background: linear-gradient(135deg, var(--amber-dim), #5e4000);
  color: var(--amber-light);
  text-shadow: 0 0 8px rgba(255, 136, 0, 0.3);
  box-shadow: 0 0 12px rgba(255, 136, 0, 0.08);
}
.menu-btn.primary::after { background: var(--amber-dim); box-shadow: 0 0 4px rgba(255, 136, 0, 0.3); }
.menu-btn.primary:hover {
  background: linear-gradient(135deg, #6e5000, var(--amber-dim));
  color: var(--amber-glow);
  text-shadow: 0 0 20px rgba(255, 204, 68, 0.6);
  box-shadow: 0 0 30px rgba(255, 136, 0, 0.2), inset 0 0 15px rgba(255, 136, 0, 0.06);
}
.menu-btn.primary:hover::after { background: var(--amber); box-shadow: 0 0 10px rgba(255, 136, 0, 0.6); }

/* Corrupted (QUIT) */
.menu-btn.corrupted {
  animation: corruptedBtnGlitch 5s ease-in-out infinite;
}
.menu-btn.corrupted::after {
  background: var(--warp-purple) !important;
  opacity: 0.5;
  animation: corruptedStripe 2.5s ease-in-out infinite;
}

/* Button Flourish Symbols */
.btn-flourish {
  font-size: 10px;
  color: var(--gold-dim);
  text-shadow: 0 0 6px rgba(196, 164, 74, 0.4);
  transition: all 0.3s ease;
  display: inline-block;
}
.menu-btn:hover .btn-flourish {
  color: var(--gold);
  text-shadow: 0 0 12px rgba(196, 164, 74, 0.7);
  transform: scale(1.3);
}
.menu-btn.primary .btn-flourish {
  color: var(--amber-dim);
  text-shadow: 0 0 6px rgba(255, 136, 0, 0.4);
}
.menu-btn.primary:hover .btn-flourish {
  color: var(--amber-light);
  text-shadow: 0 0 14px rgba(255, 204, 68, 0.7);
}
.btn-flourish.warp {
  color: var(--warp-purple);
  text-shadow: 0 0 6px rgba(150, 50, 255, 0.4);
  animation: warpFlourish 3s ease-in-out infinite;
}

/* ============================================================
   ACTION BUTTONS
   ============================================================ */
.act-btn {
  font-family: var(--font-heading);
  font-size: 8px;
  font-weight: 700;
  letter-spacing: 2px;
  text-transform: uppercase;
  background: linear-gradient(180deg, var(--steel-light), var(--steel-mid));
  border: 1px solid rgba(196, 164, 74, 0.2);
  color: var(--gold);
  padding: 6px 3px;
  cursor: pointer;
  transition: all 0.2s ease;
  clip-path: polygon(5px 0, calc(100% - 5px) 0, 100% 50%, calc(100% - 5px) 100%, 5px 100%, 0 50%);
  text-shadow: 0 0 4px rgba(196, 164, 74, 0.2);
  position: relative;
}
.act-btn::before {
  content: '\2726';
  font-size: 5px;
  margin-right: 3px;
  opacity: 0.5;
}
.act-btn::after {
  content: '\2726';
  font-size: 5px;
  margin-left: 3px;
  opacity: 0.5;
}
.act-btn:hover {
  background: linear-gradient(180deg, var(--steel-highlight), var(--steel-light));
  border-color: var(--gold);
  color: var(--gold-light);
  text-shadow: 0 0 10px rgba(196, 164, 74, 0.5);
  box-shadow: 0 0 12px rgba(196, 164, 74, 0.12);
}

/* ============================================================
   CARD SYSTEM
   ============================================================ */
.card-corner {
  position: absolute;
  width: 22px; height: 22px;
  pointer-events: none;
  color: var(--gold);
  font-size: 12px;
  text-shadow: 0 0 6px rgba(196, 164, 74, 0.5);
  opacity: 0.7;
  line-height: 1;
}
.card-corner::after {
  content: '';
  position: absolute;
  background: var(--gold);
  opacity: 0.4;
}
.card-corner.tl { top: 3px; left: 3px; }
.card-corner.tl::before { content: '\2554'; position: absolute; top: 0; left: 0; }
.card-corner.tl::after { width: 16px; height: 1px; top: 14px; left: 2px; background: linear-gradient(90deg, var(--gold), transparent); }
.card-corner.tr { top: 3px; right: 3px; }
.card-corner.tr::before { content: '\2557'; position: absolute; top: 0; right: 0; }
.card-corner.tr::after { width: 16px; height: 1px; top: 14px; right: 2px; background: linear-gradient(-90deg, var(--gold), transparent); }
.card-corner.bl { bottom: 3px; left: 3px; }
.card-corner.bl::before { content: '\255A'; position: absolute; bottom: 0; left: 0; }
.card-corner.bl::after { width: 16px; height: 1px; bottom: 14px; left: 2px; background: linear-gradient(90deg, var(--gold), transparent); }
.card-corner.br { bottom: 3px; right: 3px; }
.card-corner.br::before { content: '\255D'; position: absolute; bottom: 0; right: 0; }
.card-corner.br::after { width: 16px; height: 1px; bottom: 14px; right: 2px; background: linear-gradient(-90deg, var(--gold), transparent); }

/* ============================================================
   STAT ROWS & BAR SYSTEM
   ============================================================ */
.bar-label {
  font-family: var(--font-heading);
  font-size: 7px;
  font-weight: 700;
  color: var(--gold);
  letter-spacing: 2px;
  text-transform: uppercase;
  text-shadow: 0 0 4px rgba(196, 164, 74, 0.2);
  display: flex;
  align-items: center;
  gap: 2px;
}
.bar-label::before {
  content: '\203A';
  font-size: 8px;
  color: var(--gold-dim);
  opacity: 0.6;
}
.bar-track {
  flex: 1; height: 10px;
  background: var(--steel-dark);
  border: 1px solid rgba(58, 58, 66, 0.6);
  position: relative;
  overflow: hidden;
}
.bar-fill {
  height: 100%;
  position: relative;
  transition: width 0.5s ease;
}
.bar-fill::after {
  content: '';
  position: absolute; inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
  animation: energyFlow 2.2s linear infinite;
}

/* ============================================================
   HUD CELLS
   ============================================================ */
.hud-cell {
  background: linear-gradient(135deg, var(--steel-mid), var(--steel-dark));
  border: 1px solid var(--steel-highlight);
  padding: 9px 13px;
  position: relative;
}
.hud-cell::before {
  content: '\250C\2500';
  position: absolute;
  top: 2px; left: 4px;
  font-size: 7px;
  color: var(--gold-dim);
  opacity: 0.4;
  line-height: 1;
}
.hud-cell::after {
  content: '\2500\2518';
  position: absolute;
  bottom: 2px; right: 4px;
  font-size: 7px;
  color: var(--gold-dim);
  opacity: 0.4;
  line-height: 1;
}
.hud-label {
  font-family: var(--font-mono);
  font-size: 8px;
  color: var(--steel-bright);
  letter-spacing: 2px;
  text-transform: uppercase;
  margin-bottom: 3px;
  display: flex;
  align-items: center;
  gap: 4px;
}
.hud-label::before {
  content: '\25C6';
  font-size: 5px;
  color: var(--blue-dim);
  text-shadow: 0 0 3px rgba(0, 170, 255, 0.3);
}
.hud-label::after {
  content: '\25C6';
  font-size: 5px;
  color: var(--blue-dim);
  text-shadow: 0 0 3px rgba(0, 170, 255, 0.3);
}

/* ============================================================
   SETTINGS CONTROLS
   ============================================================ */
.setting-label {
  font-family: var(--font-heading);
  font-size: 10px;
  font-weight: 700;
  color: var(--gold);
  letter-spacing: 2px;
  text-transform: uppercase;
  text-shadow: 0 0 4px rgba(196, 164, 74, 0.2);
  flex: 0 0 140px;
}

/* Toggle Switch */
.toggle-switch {
  width: 44px; height: 22px;
  background: var(--steel-dark);
  border: 1px solid var(--steel-highlight);
  cursor: pointer;
  position: relative;
  transition: all 0.3s ease;
}
.toggle-switch.active {
  border-color: var(--blue-primary);
  background: rgba(0, 170, 255, 0.15);
}
.toggle-knob {
  position: absolute;
  top: 2px; left: 2px;
  width: 16px; height: 16px;
  background: var(--steel-bright);
  transition: all 0.3s ease;
}
.toggle-switch.active .toggle-knob {
  left: 24px;
  background: var(--blue-primary);
  box-shadow: 0 0 6px rgba(0, 170, 255, 0.5);
}
.toggle-status {
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--steel-bright);
  letter-spacing: 1px;
  text-transform: uppercase;
  min-width: 28px;
}
.toggle-switch.active + .toggle-status,
.toggle-switch.active ~ .toggle-status {
  color: var(--blue-primary);
}

/* Custom Slider */
.slider-track {
  flex: 1; height: 10px;
  background: var(--steel-dark);
  border: 1px solid var(--steel-highlight);
  cursor: pointer;
  position: relative;
  overflow: hidden;
}
.slider-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--blue-dark), var(--blue-primary));
  position: relative;
  pointer-events: none;
}
.slider-fill::after {
  content: '';
  position: absolute; inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
  animation: energyFlow 2.2s linear infinite;
}
.slider-thumb {
  position: absolute;
  top: -3px; right: -8px;
  width: 6px; height: 16px;
  background: var(--gold);
  border: 1px solid var(--gold-dim);
  pointer-events: none;
}

/* Dropdown */
.dropdown-wrap {
  flex: 1;
  position: relative;
}
.dropdown-select {
  width: 100%;
  padding: 8px 28px 8px 10px;
  background: var(--steel-dark);
  border: 1px solid var(--steel-highlight);
  color: #e0e0e0;
  font-family: var(--font-mono);
  font-size: 12px;
  cursor: pointer;
  appearance: none;
  -webkit-appearance: none;
}
.dropdown-select:focus-visible {
  outline: 2px solid var(--blue-primary);
  outline-offset: 2px;
  border-color: var(--blue-primary);
}
.dropdown-arrow {
  position: absolute;
  right: 10px; top: 50%;
  transform: translateY(-50%);
  pointer-events: none;
  font-size: 8px;
  color: var(--gold);
}

/* Signal Bars */
.signal-bars {
  display: flex;
  align-items: flex-end;
  gap: 2px;
  height: 16px;
  margin-left: 8px;
}
.signal-bar {
  width: 4px;
  background: var(--blue-primary);
  transition: all 0.3s ease;
}
.signal-bar:nth-child(1) { height: 4px; }
.signal-bar:nth-child(2) { height: 8px; }
.signal-bar:nth-child(3) { height: 12px; }
.signal-bar:nth-child(4) { height: 16px; }
.signal-bar.off {
  background: var(--steel-highlight);
}

/* EQ Bars */
.eq-bars {
  display: flex;
  align-items: flex-end;
  gap: 2px;
  height: 16px;
  margin-left: 8px;
}
.eq-bar {
  width: 3px;
  background: var(--amber);
  transition: height 0.3s ease;
}

/* Settings Grid */
.settings-grid {
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.toggle-row, .slider-row {
  display: flex;
  align-items: center;
  gap: 12px;
}
.slider-row .slider-value {
  font-family: var(--font-mono);
  font-size: 11px;
  color: var(--blue-primary);
  min-width: 30px;
  text-align: right;
}

/* ============================================================
   HUD BIG NUMBERS & SCORE
   ============================================================ */
.hud-big-number {
  font-family: var(--font-mono);
  font-size: 22px;
  font-weight: bold;
  letter-spacing: 2px;
}
.hud-big-number.amber { color: var(--amber); text-shadow: 0 0 8px rgba(255, 136, 0, 0.3); }
.hud-big-number.cyan { color: var(--cyan); text-shadow: 0 0 8px rgba(0, 255, 204, 0.3); }

.score-header {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  margin-bottom: 6px;
}
.score-team {
  font-family: var(--font-heading);
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 2px;
  text-transform: uppercase;
}
.score-vs {
  font-family: var(--font-mono);
  font-size: 8px;
  color: var(--steel-bright);
  letter-spacing: 2px;
}
.score-values {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
}
.score-num {
  font-family: var(--font-mono);
  font-size: 16px;
  font-weight: bold;
}
.score-bar-wrap {
  height: 6px;
  background: var(--steel-dark);
  border: 1px solid var(--steel-highlight);
  position: relative;
  overflow: hidden;
  margin-top: 6px;
}
.score-bar-fill {
  height: 100%;
  transition: width 0.5s ease;
  position: absolute;
  top: 0;
}

/* Radar label */
.radar-label {
  font-family: var(--font-mono);
  font-size: 7px;
  color: var(--steel-bright);
  letter-spacing: 2px;
  text-transform: uppercase;
  text-align: center;
  padding: 2px 0;
}

/* Bar rows for health/morale */
.bar-row {
  display: flex;
  align-items: center;
  gap: 6px;
  margin: 4px 0;
}
.bar-group {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 6px;
}
.bar-value {
  font-family: var(--font-mono);
  font-size: 10px;
  color: var(--steel-bright);
  min-width: 36px;
  text-align: right;
}

/* ============================================================
   DECORATIVE ELEMENTS
   ============================================================ */
.gothic-arch {
  position: absolute;
  top: -1px; left: 50%;
  transform: translateX(-50%);
  width: 60px; height: 8px;
  background: var(--gold-dim);
  clip-path: polygon(0 100%, 10% 0, 90% 0, 100% 100%);
  opacity: 0.3;
}
.buttress-left, .buttress-right {
  position: absolute;
  top: 10%; bottom: 10%;
  width: 4px;
  opacity: 0.15;
}
.buttress-left {
  left: -5px;
  background: linear-gradient(180deg, transparent, var(--gold), var(--gold), transparent);
}
.buttress-right {
  right: -5px;
  background: linear-gradient(180deg, transparent, var(--gold), var(--gold), transparent);
}
.panel-filigree {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 4px 0;
  opacity: 0.3;
}
.panel-filigree .fili-line {
  flex: 1;
  max-width: 80px;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
}
.panel-filigree .fili-sym {
  font-size: 8px;
  color: var(--gold);
}

/* Section header for settings */
.section-header {
  font-family: var(--font-heading);
  font-size: 11px;
  font-weight: 700;
  color: var(--gold);
  letter-spacing: 3px;
  text-transform: uppercase;
  text-shadow: 0 0 6px rgba(196, 164, 74, 0.2);
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
}
.section-header::before {
  content: '\2726';
  font-size: 7px;
  color: var(--gold-dim);
}
.section-header::after {
  content: '';
  flex: 1;
  height: 1px;
  background: linear-gradient(90deg, var(--gold-dim), transparent);
}

/* Fleet tag */
.fleet-tag {
  font-family: var(--font-mono);
  font-size: 8px;
  color: var(--steel-bright);
  letter-spacing: 2px;
  padding: 2px 8px;
  border: 1px solid var(--steel-highlight);
  text-transform: uppercase;
}

/* ============================================================
   RESPONSIVE
   ============================================================ */
@media (max-width: 600px) {
  .game-title { font-size: 30px; letter-spacing: 6px; }
  .game-subtitle { font-size: 12px; letter-spacing: 6px; }
}
